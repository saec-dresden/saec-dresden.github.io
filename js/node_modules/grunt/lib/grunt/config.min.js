"use strict";var grunt=require("../grunt");var config=module.exports=function(a,b){if(arguments.length===2){return config.set(a,b)}else{return config.get(a)}};config.data={};config.escape=function(a){return a.replace(/\./g,"\\.")};config.getPropString=function(a){return Array.isArray(a)?a.map(config.escape).join("."):a};config.getRaw=function(a){if(a){return grunt.util.namespace.get(config.data,config.getPropString(a))}else{return config.data}};var propStringTmplRe=/^<%=\s*([a-z0-9_$]+(?:\.[a-z0-9_$]+)*)\s*%>$/i;config.get=function(a){return config.process(config.getRaw(a))};config.process=function(a){return grunt.util.recurse(a,function(d){if(typeof d!=="string"){return d}var b=d.match(propStringTmplRe);var c;if(b){c=config.get(b[1]);if(c!=null){return c}}return grunt.template.process(d,{data:config.data})})};config.set=function(a,b){return grunt.util.namespace.set(config.data,config.getPropString(a),b)};config.merge=function(a){grunt.util._.merge(config.data,a);return config.data};config.init=function(a){grunt.verbose.write("Initializing config...").ok();return(config.data=a||{})};config.requires=function(){var c=grunt.util.pluralize;var d=grunt.util.toArray(arguments).map(config.getPropString);var b="Verifying propert"+c(d.length,"y/ies")+" "+grunt.log.wordlist(d)+" exist"+c(d.length,"s")+" in config...";grunt.verbose.write(b);var a=config.data&&d.filter(function(e){return config.get(e)==null}).map(function(e){return'"'+e+'"'});if(config.data&&a.length===0){grunt.verbose.ok();return true}else{grunt.verbose.or.write(b);grunt.log.error().error("Unable to process task.");if(!config.data){throw grunt.util.error("Unable to load config.")}else{throw grunt.util.error("Required config propert"+c(a.length,"y/ies")+" "+a.join(", ")+" missing.")}}};