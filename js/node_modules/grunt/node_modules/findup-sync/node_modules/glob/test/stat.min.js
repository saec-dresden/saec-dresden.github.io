var glob=require("../");var test=require("tap").test;var path=require("path");test("stat all the things",function(d){var a=new glob.Glob("a/*abc*/**",{stat:true,cwd:__dirname});var b=[];a.on("match",function(e){b.push(e)});var c=[];a.on("stat",function(e){c.push(e)});a.on("end",function(f){c=c.sort();b=b.sort();f=f.sort();d.same(c,b);d.same(f,b);var e=Object.keys(this.statCache);d.same(e.map(function(g){return path.relative(__dirname,g)}).sort(),b);e.forEach(function(g){d.equal(typeof this.statCache[g],"object")},this);d.end()})});