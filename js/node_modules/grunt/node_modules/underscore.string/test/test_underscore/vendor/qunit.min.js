(function(E){var t={init:function l(){d={stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new Date,blocking:false,autorun:false,assertions:[],filters:[],queue:[]};var H=k("qunit-tests"),F=k("qunit-banner"),G=k("qunit-testresult");if(H){H.innerHTML=""}if(F){F.className=""}if(G){G.parentNode.removeChild(G)}},module:function n(F,G){y(function(){if(d.currentModule){t.moduleDone(d.currentModule,d.moduleStats.bad,d.moduleStats.all)}d.currentModule=F;d.moduleTestEnvironment=G;d.moduleStats={all:0,bad:0};t.moduleStart(F,G)})},asyncTest:function b(H,G,F){if(arguments.length===2){F=G;G=0}t.test(H,G,F,true)},test:function z(K,H,G,F){var I=K,J={};if(arguments.length===2){G=H;H=null}if(d.currentModule){I=d.currentModule+" module: "+I}if(!D(I)){return}y(function(){t.testStart(K);J=i({setup:function(){},teardown:function(){}},d.moduleTestEnvironment);d.assertions=[];d.expected=null;if(arguments.length>=3){d.expected=G;G=arguments[2]}try{if(!d.pollution){v()}J.setup.call(J)}catch(L){t.ok(false,"Setup failed on "+I+": "+L.message)}if(F){t.stop()}try{G.call(J)}catch(L){j("Test "+I+" died, exception and test follows",L,G);t.ok(false,"Died on test #"+(d.assertions.length+1)+": "+L.message);v();if(d.blocking){w()}}});y(function(){try{c();J.teardown.call(J)}catch(O){t.ok(false,"Teardown failed on "+I+": "+O.message)}try{t.reset()}catch(O){j("reset() failed, following Test "+I+", exception and reset fn follows",O,u)}if(d.expected&&d.expected!=d.assertions.length){t.ok(false,"Expected "+d.expected+" assertions, but "+d.assertions.length+" were run")}var P=0,N=0,T=k("qunit-tests");d.stats.all+=d.assertions.length;d.moduleStats.all+=d.assertions.length;if(T){var S=document.createElement("ol");S.style.display="none";for(var Q=0;Q<d.assertions.length;Q++){var L=d.assertions[Q];var R=document.createElement("li");R.className=L.result?"pass":"fail";R.innerHTML=L.message||"(no message)";S.appendChild(R);if(L.result){P++}else{N++;d.stats.bad++;d.moduleStats.bad++}}var M=document.createElement("strong");M.innerHTML=I+" <b style='color:black;'>(<b class='fail'>"+N+"</b>, <b class='pass'>"+P+"</b>, "+d.assertions.length+")</b>";a(M,"click",function(){var W=M.nextSibling,V=W.style.display;W.style.display=V==="none"?"block":"none"});a(M,"dblclick",function(V){var X=(V||E.event).target;if(X.nodeName.toLowerCase()==="strong"){var Y="",W=X.firstChild;while(W.nodeType===3){Y+=W.nodeValue;W=W.nextSibling}Y=Y.replace(/(^\s*|\s*$)/g,"");if(E.location){E.location.href=E.location.href.match(/^(.+?)(\?.*)?$/)[1]+"?"+encodeURIComponent(Y)}}});var R=document.createElement("li");R.className=N?"fail":"pass";R.appendChild(M);R.appendChild(S);T.appendChild(R);if(N){var U=k("qunit-testrunner-toolbar");if(U){U.style.display="block";k("qunit-filter-pass").disabled=null;k("qunit-filter-missing").disabled=null}}}else{for(var Q=0;Q<d.assertions.length;Q++){if(!d.assertions[Q].result){N++;d.stats.bad++;d.moduleStats.bad++}}}t.testDone(K,N,d.assertions.length);if(!E.setTimeout&&!d.queue.length){f()}});if(E.setTimeout&&!d.doneTimer){d.doneTimer=E.setTimeout(function(){if(!d.queue.length){f()}else{y(f)}},13)}},expect:function h(F){d.expected=F},ok:function q(F,G){t.log(F,G);d.assertions.push({result:!!F,message:G})},equals:function g(F,G,H){s(G==F,F,G,H)},same:function(F,G,H){s(t.equiv(F,G),F,G,H)},start:function w(){if(E.setTimeout){E.setTimeout(function(){if(d.timeout){clearTimeout(d.timeout)}d.blocking=false;r()},13)}else{d.blocking=false;r()}},stop:function x(F){d.blocking=true;if(F&&E.setTimeout){d.timeout=E.setTimeout(function(){t.ok(false,"Test timed out");t.start()},F)}},reset:function u(){if(E.jQuery){jQuery("#main").html(d.fixture);jQuery.event.global={};jQuery.ajaxSettings=i({},d.ajaxSettings)}},triggerEvent:function C(F,H,G){if(document.createEvent){G=document.createEvent("MouseEvents");G.initMouseEvent(H,true,true,F.ownerDocument.defaultView,0,0,0,0,0,false,false,false,false,0,null);F.dispatchEvent(G)}else{if(F.fireEvent){F.fireEvent("on"+H)}}},done:function f(F,G){},log:function m(G,F){},testStart:function B(F){},testDone:function A(G,F,H){},moduleStart:function p(F,G){},moduleDone:function o(G,F,H){}};var d={queue:[],blocking:true};(function(){var H=E.location||{search:"",protocol:"file:"},F=H.search.slice(1).split("&");for(var G=0;G<F.length;G++){F[G]=decodeURIComponent(F[G]);if(F[G]==="noglobals"){F.splice(G,1);G--;d.noglobals=true}}d.filters=F;t.isLocal=!!(H.protocol==="file:")})();if(typeof exports==="undefined"||typeof require==="undefined"){i(E,t);E.QUnit=t}else{i(exports,t);exports.QUnit=t}if(typeof document==="undefined"||document.readyState==="complete"){d.autorun=true}a(E,"load",function(){var J=i({},d);t.init();i(d,J);d.blocking=false;var L=k("qunit-userAgent");if(L){L.innerHTML=navigator.userAgent}var K=k("qunit-testrunner-toolbar");if(K){K.style.display="none";var F=document.createElement("input");F.type="checkbox";F.id="qunit-filter-pass";F.disabled=true;a(F,"click",function(){var N=document.getElementsByTagName("li");for(var M=0;M<N.length;M++){if(N[M].className.indexOf("pass")>-1){N[M].style.display=F.checked?"none":"block"}}});K.appendChild(F);var G=document.createElement("label");G.setAttribute("for","filter-pass");G.innerHTML="Hide passed tests";K.appendChild(G);var I=document.createElement("input");I.type="checkbox";I.id="qunit-filter-missing";I.disabled=true;a(I,"click",function(){var N=document.getElementsByTagName("li");for(var M=0;M<N.length;M++){if(N[M].className.indexOf("fail")>-1&&N[M].innerHTML.indexOf("missing test - untested code is broken code")>-1){N[M].parentNode.parentNode.style.display=I.checked?"none":"block"}}});K.appendChild(I);G=document.createElement("label");G.setAttribute("for","filter-missing");G.innerHTML="Hide missing tests (untested code is broken code)";K.appendChild(G)}var H=k("main");if(H){d.fixture=H.innerHTML}if(E.jQuery){d.ajaxSettings=E.jQuery.ajaxSettings}t.start()});function f(){if(d.doneTimer&&E.clearTimeout){E.clearTimeout(d.doneTimer);d.doneTimer=null}if(d.queue.length){d.doneTimer=E.setTimeout(function(){if(!d.queue.length){f()}else{y(f)}},13);return}d.autorun=true;if(d.currentModule){t.moduleDone(d.currentModule,d.moduleStats.bad,d.moduleStats.all)}var F=k("qunit-banner"),I=k("qunit-tests"),G=["Tests completed in ",+new Date-d.started," milliseconds.<br/>",'<span class="bad">',d.stats.all-d.stats.bad,'</span> tests of <span class="all">',d.stats.all,"</span> passed, ",d.stats.bad," failed."].join("");if(F){F.className+=" "+(d.stats.bad?"fail":"pass")}if(I){var H=k("qunit-testresult");if(!H){H=document.createElement("p");H.id="qunit-testresult";H.className="result";I.parentNode.insertBefore(H,I.nextSibling)}H.innerHTML=G}t.done(d.stats.bad,d.stats.all)}function D(H){var G=d.filters.length,J=false;if(!G){return true}while(G--){var F=d.filters[G],I=F.charAt(0)=="!";if(I){F=F.slice(1)}if(H.indexOf(F)!==-1){return !I}if(I){J=true}}return J}function s(I,F,G,H){H=H||(I?"okay":"failed");t.ok(I,I?H+": "+G:H+", expected: "+t.jsDump.parse(G)+" result: "+t.jsDump.parse(F))}function y(F){d.queue.push(F);if(d.autorun&&!d.blocking){r()}}function r(){while(d.queue.length&&!d.blocking){d.queue.shift()()}}function v(){d.pollution=[];if(d.noglobals){for(var F in E){d.pollution.push(F)}}}function c(G){var I=d.pollution;v();var H=e(I,d.pollution);if(H.length>0){q(false,"Introduced global variable(s): "+H.join(", "));d.expected++}var F=e(d.pollution,I);if(F.length>0){q(false,"Deleted global variable(s): "+F.join(", "));d.expected++}}function e(F,G){var J=F.slice();for(var H=0;H<J.length;H++){for(var I=0;I<G.length;I++){if(J[H]===G[I]){J.splice(H,1);H--;break}}}return J}function j(H,G,F){if(typeof console!=="undefined"&&console.error&&console.warn){console.error(H);console.error(G);console.warn(F.toString())}else{if(E.opera&&opera.postError){opera.postError(H,G,F.toString)}}}function i(F,G){for(var H in G){F[H]=G[H]}return F}function a(F,H,G){if(F.addEventListener){F.addEventListener(H,G,false)}else{if(F.attachEvent){F.attachEvent("on"+H,G)}else{G()}}}function k(F){return !!(typeof document!=="undefined"&&document&&document.getElementById)&&document.getElementById(F)}t.equiv=function(){var J;var G=[];function I(K){if(K.constructor===String){return"string"}else{if(K.constructor===Boolean){return"boolean"}else{if(K.constructor===Number){if(isNaN(K)){return"nan"}else{return"number"}}else{if(typeof K==="undefined"){return"undefined"}else{if(K===null){return"null"}else{if(K instanceof Array){return"array"}else{if(K instanceof Date){return"date"}else{if(K instanceof RegExp){return"regexp"}else{if(typeof K==="object"){return"object"}else{if(K instanceof Function){return"function"}else{return undefined}}}}}}}}}}}function H(M,L,K){var N=I(M);if(N){if(I(L[N])==="function"){return L[N].apply(L,K)}else{return L[N]}}}var F=function(){function K(M,L){if(M instanceof L.constructor||L instanceof M.constructor){return L==M}else{return L===M}}return{string:K,"boolean":K,number:K,"null":K,"undefined":K,nan:function(L){return isNaN(L)},date:function(M,L){return I(M)==="date"&&L.valueOf()===M.valueOf()},regexp:function(M,L){return I(M)==="regexp"&&L.source===M.source&&L.global===M.global&&L.ignoreCase===M.ignoreCase&&L.multiline===M.multiline},"function":function(){var L=G[G.length-1];return L!==Object&&typeof L!=="undefined"},array:function(M,L){var N;var O;if(!(I(M)==="array")){return false}O=L.length;if(O!==M.length){return false}for(N=0;N<O;N++){if(!J(L[N],M[N])){return false}}return true},object:function(N,L){var Q;var P=true;var M=[],O=[];if(L.constructor!==N.constructor){return false}G.push(L.constructor);for(Q in L){M.push(Q);if(!J(L[Q],N[Q])){P=false}}G.pop();for(Q in N){O.push(Q)}return P&&J(M.sort(),O.sort())}}}();J=function(){var K=Array.prototype.slice.apply(arguments);if(K.length<2){return true}return(function(L,M){if(L===M){return true}else{if(L===null||M===null||typeof L==="undefined"||typeof M==="undefined"||I(L)!==I(M)){return false}else{return H(L,F,[M,L])}}})(K[0],K[1])&&arguments.callee.apply(this,K.splice(1,K.length-1))};return J}();t.jsDump=(function(){function J(L){return'"'+L.toString().replace(/"/g,'\\"')+'"'}function I(L){return L+""}function G(P,L,O){var Q=H.separator(),M=H.indent(),N=H.indent(1);if(L.join){L=L.join(","+Q+N)}if(!L){return P+O}return[P,N+L,M+O].join(Q)}function F(L){var M=L.length,N=Array(M);this.up();while(M--){N[M]=this.parse(L[M])}this.down();return G("[",N,"]")}var K=/^function (\w+)/;var H={parse:function(L,N){var M=this.parsers[N||this.typeOf(L)];N=typeof M;return N=="function"?M.call(this,L):N=="string"?M:this.parsers.error},typeOf:function(M){var N=typeof M,L="function";return N!="object"&&N!=L?N:!M?"null":M.exec?"regexp":M.getHours?"date":M.scrollBy?"window":M.nodeName=="#document"?"document":M.nodeName?"node":M.item?"nodelist":M.callee?"arguments":M.call||M.constructor!=Array&&(M+"").indexOf(L)!=-1?L:"length" in M?"array":N},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(M){if(!this.multiline){return""}var L=this.indentChar;if(this.HTML){L=L.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")}return Array(this._depth_+(M||0)).join(L)},up:function(L){this._depth_+=L||1},down:function(L){this._depth_-=L||1},setParser:function(L,M){this.parsers[L]=M},quote:J,literal:I,join:G,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(L){var N="function",M="name" in L?L.name:(K.exec(L)||[])[1];if(M){N+=" "+M}N+="(";N=[N,this.parse(L,"functionArgs"),"){"].join("");return G(N,this.parse(L,"functionCode"),"}")},array:F,nodelist:F,arguments:F,object:function(M){var N=[];this.up();for(var L in M){N.push(this.parse(L,"key")+": "+this.parse(M[L]))}this.down();return G("{",N,"}")},node:function(N){var O=this.HTML?"&lt;":"<",M=this.HTML?"&gt;":">";var Q=N.nodeName.toLowerCase(),P=O+Q;for(var L in this.DOMAttrs){var R=N[this.DOMAttrs[L]];if(R){P+=" "+L+"="+this.parse(R,"attribute")}}return P+M+O+"/"+Q+M},functionArgs:function(M){var N=M.length;if(!N){return""}var L=Array(N);while(N--){L[N]=String.fromCharCode(97+N)}return" "+L.join(", ")+" "},key:J,functionCode:"[code]",attribute:J,string:J,date:J,regexp:I,number:I,"boolean":I},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:true,indentChar:"   ",multiline:true};return H})()})(this);(function(u){var d={setTimeout:typeof u.setTimeout!=="undefined",sessionStorage:(function(){try{return !!sessionStorage.getItem}catch(v){return false}})()};var s=0;var r=function(y,A,x,z,v,w){this.name=y;this.testName=A;this.expected=x;this.testEnvironmentArg=z;this.async=v;this.callback=w;this.assertions=[]};r.prototype={init:function(){var x=k("qunit-tests");if(x){var v=document.createElement("strong");v.innerHTML="Running "+this.name;var w=document.createElement("li");w.appendChild(v);w.id=this.id="test-output"+s++;x.appendChild(w)}},setup:function(){if(this.module!=c.previousModule){if(this.previousModule){m.moduleDone(this.module,c.moduleStats.bad,c.moduleStats.all)}c.previousModule=this.module;c.moduleStats={all:0,bad:0};m.moduleStart(this.module,this.moduleTestEnvironment)}c.current=this;this.testEnvironment=h({setup:function(){},teardown:function(){}},this.moduleTestEnvironment);if(this.testEnvironmentArg){h(this.testEnvironment,this.testEnvironmentArg)}m.testStart(this.testName,this.testEnvironment);m.current_testEnvironment=this.testEnvironment;try{if(!c.pollution){o()}this.testEnvironment.setup.call(this.testEnvironment)}catch(v){m.ok(false,"Setup failed on "+this.name+": "+v.message)}},run:function(){if(this.async){m.stop()}try{this.callback.call(this.testEnvironment)}catch(v){i("Test "+this.name+" died, exception and test follows",v,this.callback);m.ok(false,"Died on test #"+(this.assertions.length+1)+": "+v.message+" - "+m.jsDump.parse(v));o();if(c.blocking){start()}}},teardown:function(){try{b();this.testEnvironment.teardown.call(this.testEnvironment)}catch(v){m.ok(false,"Teardown failed on "+this.name+": "+v.message)}},finish:function(){if(this.expected&&this.expected!=this.assertions.length){m.ok(false,"Expected "+this.expected+" assertions, but "+this.assertions.length+" were run")}var z=0,x=0,D=k("qunit-tests");c.stats.all+=this.assertions.length;c.moduleStats.all+=this.assertions.length;if(D){var C=document.createElement("ol");for(var A=0;A<this.assertions.length;A++){var v=this.assertions[A];var B=document.createElement("li");B.className=v.result?"pass":"fail";B.innerHTML=v.message||(v.result?"okay":"failed");C.appendChild(B);if(v.result){z++}else{x++;c.stats.bad++;c.moduleStats.bad++}}d.sessionStorage&&sessionStorage.setItem("qunit-"+this.testName,x);if(x==0){C.style.display="none"}var w=document.createElement("strong");w.innerHTML=this.name+" <b class='counts'>(<b class='failed'>"+x+"</b>, <b class='passed'>"+z+"</b>, "+this.assertions.length+")</b>";a(w,"click",function(){var G=w.nextSibling,F=G.style.display;G.style.display=F==="none"?"block":"none"});a(w,"dblclick",function(F){var G=F&&F.target?F.target:u.event.srcElement;if(G.nodeName.toLowerCase()=="span"||G.nodeName.toLowerCase()=="b"){G=G.parentNode}if(u.location&&G.nodeName.toLowerCase()==="strong"){u.location.search="?"+encodeURIComponent(j([G]).replace(/\(.+\)$/,"").replace(/(^\s*|\s*$)/g,""))}});var B=k(this.id);B.className=x?"fail":"pass";B.style.display=n(!x);B.removeChild(B.firstChild);B.appendChild(w);B.appendChild(C);if(x){var E=k("qunit-testrunner-toolbar");if(E){E.style.display="block";k("qunit-filter-pass").disabled=null}}}else{for(var A=0;A<this.assertions.length;A++){if(!this.assertions[A].result){x++;c.stats.bad++;c.moduleStats.bad++}}}try{m.reset()}catch(y){i("reset() failed, following Test "+this.name+", exception and reset fn follows",y,m.reset)}m.testDone(this.testName,x,this.assertions.length)},queue:function(){var x=this;q(function(){x.init()});function w(){q(function(){x.setup()});q(function(){x.run()});q(function(){x.teardown()});q(function(){x.finish()})}var v=d.sessionStorage&&+sessionStorage.getItem("qunit-"+this.testName);if(v){w()}else{q(w)}}};var m={module:function(v,w){c.previousModule=c.currentModule;c.currentModule=v;c.currentModuleTestEnviroment=w},asyncTest:function(x,w,v){if(arguments.length===2){v=w;w=0}m.test(x,w,v,true)},test:function(B,x,w,v){var y='<span class="test-name">'+B+"</span>",A;if(arguments.length===2){w=x;x=null}if(x&&typeof x==="object"){A=x;x=null}if(c.currentModule){y='<span class="module-name">'+c.currentModule+"</span>: "+y}if(!t(c.currentModule+": "+B)){return}var z=new r(y,B,x,A,v,w);z.previousModule=c.previousModule;z.module=c.currentModule;z.moduleTestEnvironment=c.currentModuleTestEnviroment;z.queue()},expect:function(v){c.current.expected=v},ok:function(v,x){v=!!v;var w={result:v,message:x};x=g(x);m.log(v,x,w);c.current.assertions.push({result:v,message:x})},equal:function(v,w,x){m.push(w==v,v,w,x)},notEqual:function(v,w,x){m.push(w!=v,v,w,x)},deepEqual:function(v,w,x){m.push(m.equiv(v,w),v,w,x)},notDeepEqual:function(v,w,x){m.push(!m.equiv(v,w),v,w,x)},strictEqual:function(v,w,x){m.push(w===v,v,w,x)},notStrictEqual:function(v,w,x){m.push(w!==v,v,w,x)},raises:function(w,y,z){var v,A=false;if(typeof y==="string"){z=y;y=null}try{w()}catch(x){v=x}if(v){if(!y){A=true}else{if(m.objectType(y)==="regexp"){A=y.test(v)}else{if(v instanceof y){A=true}else{if(y.call({},v)===true){A=true}}}}}m.ok(A,z)},start:function(){if(d.setTimeout){u.setTimeout(function(){if(c.timeout){clearTimeout(c.timeout)}c.blocking=false;l()},13)}else{c.blocking=false;l()}},stop:function(v){c.blocking=true;if(v&&d.setTimeout){c.timeout=u.setTimeout(function(){m.ok(false,"Test timed out");m.start()},v)}}};m.equals=m.equal;m.same=m.deepEqual;var c={queue:[],blocking:true};(function(){var x=u.location||{search:"",protocol:"file:"},v=x.search.slice(1).split("&");for(var w=0;w<v.length;w++){v[w]=decodeURIComponent(v[w]);if(v[w]==="noglobals"){v.splice(w,1);w--;c.noglobals=true}else{if(v[w].search("=")>-1){v.splice(w,1);w--}}}c.filters=v;m.isLocal=!!(x.protocol==="file:")})();if(typeof exports==="undefined"||typeof require==="undefined"){h(u,m);u.QUnit=m}else{h(exports,m);exports.QUnit=m}h(m,{config:c,init:function(){h(c,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new Date,updateRate:1000,blocking:false,autostart:true,autorun:false,filters:[],queue:[]});var x=k("qunit-tests"),v=k("qunit-banner"),w=k("qunit-testresult");if(x){x.innerHTML=""}if(v){v.className=""}if(w){w.parentNode.removeChild(w)}},reset:function(){if(u.jQuery){jQuery("#main, #qunit-fixture").html(c.fixture)}else{var v=k("main")||k("qunit-fixture");if(v){v.innerHTML=c.fixture}}},triggerEvent:function(v,x,w){if(document.createEvent){w=document.createEvent("MouseEvents");w.initMouseEvent(x,true,true,v.ownerDocument.defaultView,0,0,0,0,0,false,false,false,false,0,null);v.dispatchEvent(w)}else{if(v.fireEvent){v.fireEvent("on"+x)}}},is:function(w,v){return m.objectType(v)==w},objectType:function(v){if(typeof v==="undefined"){return"undefined"}if(v===null){return"null"}var w=Object.prototype.toString.call(v).match(/^\[object\s(.*)\]$/)[1]||"";switch(w){case"Number":if(isNaN(v)){return"nan"}else{return"number"}case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return w.toLowerCase()}if(typeof v==="object"){return"object"}return undefined},push:function(A,v,x,y){var w={result:A,message:y,actual:v,expected:x};y=g(y)||(A?"okay":"failed");y='<span class="test-message">'+y+"</span>";x=g(m.jsDump.parse(x));v=g(m.jsDump.parse(v));var z=y+'<table><tr class="test-expected"><th>Expected: </th><td><pre>'+x+"</pre></td></tr>";if(v!=x){z+='<tr class="test-actual"><th>Result: </th><td><pre>'+v+"</pre></td></tr>";z+='<tr class="test-diff"><th>Diff: </th><td><pre>'+m.diff(x,v)+"</pre></td></tr>"}if(!A){var B=p();if(B){w.source=B;z+='<tr class="test-source"><th>Source: </th><td><pre>'+B+"</pre></td></tr>"}}z+="</table>";m.log(A,y,w);c.current.assertions.push({result:!!A,message:z})},begin:function(){},done:function(v,w){},log:function(w,v){},testStart:function(v,w){},testDone:function(w,v,x){},moduleStart:function(v,w){},moduleDone:function(w,v,x){}});if(typeof document==="undefined"||document.readyState==="complete"){c.autorun=true}a(u,"load",function(){m.begin();var A=h({},c);m.init();h(c,A);c.blocking=false;var E=k("qunit-userAgent");if(E){E.innerHTML=navigator.userAgent}var v=k("qunit-header");if(v){var B=location.href.lastIndexOf(location.search);if(B>-1){var z=location.href.slice(0,B);if(z==location.href){v.innerHTML='<a href=""> '+v.innerHTML+"</a> "}else{var C=decodeURIComponent(location.search.slice(1));v.innerHTML='<a href="'+z+'">'+v.innerHTML+'</a> &#8250; <a href="">'+C+"</a>"}}}var D=k("qunit-testrunner-toolbar");if(D){D.style.display="none";var w=document.createElement("input");w.type="checkbox";w.id="qunit-filter-pass";w.disabled=true;a(w,"click",function(){var G=document.getElementsByTagName("li");for(var F=0;F<G.length;F++){if(G[F].className.indexOf("pass")>-1){G[F].style.display=w.checked?"none":""}}});D.appendChild(w);var x=document.createElement("label");x.setAttribute("for","qunit-filter-pass");x.innerHTML="Hide passed tests";D.appendChild(x)}var y=k("main")||k("qunit-fixture");if(y){c.fixture=y.innerHTML}if(c.autostart){m.start()}});function f(){c.autorun=true;if(c.currentModule){m.moduleDone(c.currentModule,c.moduleStats.bad,c.moduleStats.all)}var v=k("qunit-banner"),y=k("qunit-tests"),w=["Tests completed in ",+new Date-c.started," milliseconds.<br/>",'<span class="passed">',c.stats.all-c.stats.bad,'</span> tests of <span class="total">',c.stats.all,'</span> passed, <span class="failed">',c.stats.bad,"</span> failed."].join("");if(v){v.className=(c.stats.bad?"qunit-fail":"qunit-pass")}if(y){var x=k("qunit-testresult");if(!x){x=document.createElement("p");x.id="qunit-testresult";x.className="result";y.parentNode.insertBefore(x,y.nextSibling)}x.innerHTML=w}m.done(c.stats.bad,c.stats.all)}function t(x){var w=c.filters.length,z=false;if(!w){return true}while(w--){var v=c.filters[w],y=v.charAt(0)=="!";if(y){v=v.slice(1)}if(x.indexOf(v)!==-1){return !y}if(y){z=true}}return z}function p(){try{throw new Error()}catch(v){if(v.stacktrace){return v.stacktrace.split("\n")[6]}else{if(v.stack){return v.stack.split("\n")[4]}}}}function n(v){return v&&k("qunit-filter-pass")&&k("qunit-filter-pass").checked?"none":""}function g(v){if(!v){return""}v=v+"";return v.replace(/[\&"<>\\]/g,function(w){switch(w){case"&":return"&amp;";case"\\":return"\\\\";case'"':return'"';case"<":return"&lt;";case">":return"&gt;";default:return w}})}function q(v){c.queue.push(v);if(c.autorun&&!c.blocking){l()}}function l(){var v=(new Date()).getTime();while(c.queue.length&&!c.blocking){if(c.updateRate<=0||(((new Date()).getTime()-v)<c.updateRate)){c.queue.shift()()}else{u.setTimeout(l,13);break}}if(!c.blocking&&!c.queue.length){f()}}function o(){c.pollution=[];if(c.noglobals){for(var v in u){c.pollution.push(v)}}}function b(w){var y=c.pollution;o();var x=e(y,c.pollution);if(x.length>0){ok(false,"Introduced global variable(s): "+x.join(", "));c.current.expected++}var v=e(c.pollution,y);if(v.length>0){ok(false,"Deleted global variable(s): "+v.join(", "));c.current.expected++}}function e(v,w){var z=v.slice();for(var x=0;x<z.length;x++){for(var y=0;y<w.length;y++){if(z[x]===w[y]){z.splice(x,1);x--;break}}}return z}function i(x,w,v){if(typeof console!=="undefined"&&console.error&&console.warn){console.error(x);console.error(w);console.warn(v.toString())}else{if(u.opera&&opera.postError){opera.postError(x,w,v.toString)}}}function h(v,w){for(var x in w){v[x]=w[x]}return v}function a(v,x,w){if(v.addEventListener){v.addEventListener(x,w,false)}else{if(v.attachEvent){v.attachEvent("on"+x,w)}else{w()}}}function k(v){return !!(typeof document!=="undefined"&&document&&document.getElementById)&&document.getElementById(v)}m.equiv=function(){var y;var x=[];var z=[];function v(C,B,A){var D=m.objectType(C);if(D){if(m.objectType(B[D])==="function"){return B[D].apply(B,A)}else{return B[D]}}}var w=function(){function A(C,B){if(C instanceof B.constructor||B instanceof C.constructor){return B==C}else{return B===C}}return{string:A,"boolean":A,number:A,"null":A,"undefined":A,nan:function(B){return isNaN(B)},date:function(C,B){return m.objectType(C)==="date"&&B.valueOf()===C.valueOf()},regexp:function(C,B){return m.objectType(C)==="regexp"&&B.source===C.source&&B.global===C.global&&B.ignoreCase===C.ignoreCase&&B.multiline===C.multiline},"function":function(){var B=x[x.length-1];return B!==Object&&typeof B!=="undefined"},array:function(C,B){var D,E,G;var F;if(!(m.objectType(C)==="array")){return false}F=B.length;if(F!==C.length){return false}z.push(B);for(D=0;D<F;D++){G=false;for(E=0;E<z.length;E++){if(z[E]===B[D]){G=true}}if(!G&&!y(B[D],C[D])){z.pop();return false}}z.pop();return true},object:function(D,B){var G,H,I;var F=true;var C=[],E=[];if(B.constructor!==D.constructor){return false}x.push(B.constructor);z.push(B);for(G in B){I=false;for(H=0;H<z.length;H++){if(z[H]===B[G]){I=true}}C.push(G);if(!I&&!y(B[G],D[G])){F=false;break}}x.pop();z.pop();for(G in D){E.push(G)}return F&&y(C.sort(),E.sort())}}}();y=function(){var A=Array.prototype.slice.apply(arguments);if(A.length<2){return true}return(function(B,C){if(B===C){return true}else{if(B===null||C===null||typeof B==="undefined"||typeof C==="undefined"||m.objectType(B)!==m.objectType(C)){return false}else{return v(B,w,[C,B])}}})(A[0],A[1])&&arguments.callee.apply(this,A.splice(1,A.length-1))};return y}();m.jsDump=(function(){function z(B){return'"'+B.toString().replace(/"/g,'\\"')+'"'}function y(B){return B+""}function w(F,B,E){var G=x.separator(),C=x.indent(),D=x.indent(1);if(B.join){B=B.join(","+G+D)}if(!B){return F+E}return[F,D+B,C+E].join(G)}function v(B){var C=B.length,D=Array(C);this.up();while(C--){D[C]=this.parse(B[C])}this.down();return w("[",D,"]")}var A=/^function (\w+)/;var x={parse:function(B,D){var C=this.parsers[D||this.typeOf(B)];D=typeof C;return D=="function"?C.call(this,B):D=="string"?C:this.parsers.error},typeOf:function(B){var C;if(B===null){C="null"}else{if(typeof B==="undefined"){C="undefined"}else{if(m.is("RegExp",B)){C="regexp"}else{if(m.is("Date",B)){C="date"}else{if(m.is("Function",B)){C="function"}else{if(typeof B.setInterval!==undefined&&typeof B.document!=="undefined"&&typeof B.nodeType==="undefined"){C="window"}else{if(B.nodeType===9){C="document"}else{if(B.nodeType){C="node"}else{if(typeof B==="object"&&typeof B.length==="number"&&B.length>=0){C="array"}else{C=typeof B}}}}}}}}}return C},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(C){if(!this.multiline){return""}var B=this.indentChar;if(this.HTML){B=B.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")}return Array(this._depth_+(C||0)).join(B)},up:function(B){this._depth_+=B||1},down:function(B){this._depth_-=B||1},setParser:function(B,C){this.parsers[B]=C},quote:z,literal:y,join:w,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(B){var D="function",C="name" in B?B.name:(A.exec(B)||[])[1];if(C){D+=" "+C}D+="(";D=[D,m.jsDump.parse(B,"functionArgs"),"){"].join("");return w(D,m.jsDump.parse(B,"functionCode"),"}")},array:v,nodelist:v,arguments:v,object:function(C){var D=[];m.jsDump.up();for(var B in C){D.push(m.jsDump.parse(B,"key")+": "+m.jsDump.parse(C[B]))}m.jsDump.down();return w("{",D,"}")},node:function(D){var E=m.jsDump.HTML?"&lt;":"<",C=m.jsDump.HTML?"&gt;":">";var G=D.nodeName.toLowerCase(),F=E+G;for(var B in m.jsDump.DOMAttrs){var H=D[m.jsDump.DOMAttrs[B]];if(H){F+=" "+B+"="+m.jsDump.parse(H,"attribute")}}return F+C+E+"/"+G+C},functionArgs:function(C){var D=C.length;if(!D){return""}var B=Array(D);while(D--){B[D]=String.fromCharCode(97+D)}return" "+B.join(", ")+" "},key:z,functionCode:"[code]",attribute:z,string:z,date:z,regexp:y,number:y,"boolean":y},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:false,indentChar:"  ",multiline:true};return x})();function j(w){var y="",v;for(var x=0;w[x];x++){v=w[x];if(v.nodeType===3||v.nodeType===4){y+=v.nodeValue}else{if(v.nodeType!==8){y+=j(v.childNodes)}}}return y}m.diff=(function(){function v(z,x){var y=new Object();var A=new Object();for(var w=0;w<x.length;w++){if(y[x[w]]==null){y[x[w]]={rows:new Array(),o:null}}y[x[w]].rows.push(w)}for(var w=0;w<z.length;w++){if(A[z[w]]==null){A[z[w]]={rows:new Array(),n:null}}A[z[w]].rows.push(w)}for(var w in y){if(y[w].rows.length==1&&typeof(A[w])!="undefined"&&A[w].rows.length==1){x[y[w].rows[0]]={text:x[y[w].rows[0]],row:A[w].rows[0]};z[A[w].rows[0]]={text:z[A[w].rows[0]],row:y[w].rows[0]}}}for(var w=0;w<x.length-1;w++){if(x[w].text!=null&&x[w+1].text==null&&x[w].row+1<z.length&&z[x[w].row+1].text==null&&x[w+1]==z[x[w].row+1]){x[w+1]={text:x[w+1],row:x[w].row+1};z[x[w].row+1]={text:z[x[w].row+1],row:w+1}}}for(var w=x.length-1;w>0;w--){if(x[w].text!=null&&x[w-1].text==null&&x[w].row>0&&z[x[w].row-1].text==null&&x[w-1]==z[x[w].row-1]){x[w-1]={text:x[w-1],row:x[w].row-1};z[x[w].row-1]={text:z[x[w].row-1],row:w-1}}}return{o:z,n:x}}return function(z,x){z=z.replace(/\s+$/,"");x=x.replace(/\s+$/,"");var B=v(z==""?[]:z.split(/\s+/),x==""?[]:x.split(/\s+/));var D="";var A=z.match(/\s+/g);if(A==null){A=[" "]}else{A.push(" ")}var y=x.match(/\s+/g);if(y==null){y=[" "]}else{y.push(" ")}if(B.n.length==0){for(var w=0;w<B.o.length;w++){D+="<del>"+B.o[w]+A[w]+"</del>"}}else{if(B.n[0].text==null){for(x=0;x<B.o.length&&B.o[x].text==null;x++){D+="<del>"+B.o[x]+A[x]+"</del>"}}for(var w=0;w<B.n.length;w++){if(B.n[w].text==null){D+="<ins>"+B.n[w]+y[w]+"</ins>"}else{var C="";for(x=B.n[w].row+1;x<B.o.length&&B.o[x].text==null;x++){C+="<del>"+B.o[x]+A[x]+"</del>"}D+=" "+B.n[w].text+y[w]+C}}}return D}})()})(this);