/* JavaScript Hooker - v0.2.3 - 1/29/2012
* http://github.com/cowboy/javascript-hooker
* Copyright (c) 2012 "Cowboy" Ben Alman; Licensed MIT */
(function(a){var f=[].slice;var g={}.toString;function d(h){this.value=h}function e(h){this.value=h}function c(i,h){this.context=i;this.args=h}a.override=function(h){return new d(h)};a.preempt=function(h){return new e(h)};a.filter=function(i,h){return new c(i,h)};function b(k,m,h){var l;if(typeof m==="string"){m=[m]}else{if(m==null){m=[];for(l in k){if(k.hasOwnProperty(l)){m.push(l)}}}}var j=m.length;while(j--){if(g.call(k[m[j]])!=="[object Function]"||h(k,m[j])===false){m.splice(j,1)}}return m}a.hook=function(h,j,i){if(i==null){i=j;j=null}if(typeof i==="function"){i={pre:i}}return b(h,j,function(l,n){var m=l[n];function k(){var q,p,r;var o=f.call(arguments);if(i.passName){o.unshift(n)}if(i.pre){q=i.pre.apply(this,o)}if(q instanceof c){p=q=m.apply(q.context,q.args)}else{if(q instanceof e){p=q=q.value}else{p=m.apply(this,arguments);q=q instanceof d?q.value:p}}if(i.post){r=i.post.apply(this,[p].concat(o));if(r instanceof d){q=r.value}}if(i.once){a.unhook(l,n)}return q}l[n]=k;if(l[n]!==k){return false}l[n]._orig=m})};a.orig=function(h,i){return h[i]._orig};a.unhook=function(h,i){return b(h,i,function(j,l){var k=a.orig(j,l);if(!k){return false}j[l]=k})}}(typeof exports==="object"&&exports||this));