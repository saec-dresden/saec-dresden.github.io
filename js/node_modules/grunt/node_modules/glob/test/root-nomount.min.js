var tap=require("tap");var origCwd=process.cwd();process.chdir(__dirname);tap.test("changing root and searching for /b*/**",function(c){var a=require("../");var b=require("path");c.test(".",function(d){a("/b*/**",{globDebug:true,root:".",nomount:true},function(e,f){d.ifError(e);d.like(f,[]);d.end()})});c.test("a",function(d){a("/b*/**",{globDebug:true,root:b.resolve("a"),nomount:true},function(e,f){d.ifError(e);d.like(f,["/b","/b/c","/b/c/d","/bc","/bc/e","/bc/e/f"]);d.end()})});c.test("root=a, cwd=a/b",function(d){a("/b*/**",{globDebug:true,root:"a",cwd:b.resolve("a/b"),nomount:true},function(e,f){d.ifError(e);d.like(f,["/b","/b/c","/b/c/d","/bc","/bc/e","/bc/e/f"]);d.end()})});c.test("cd -",function(d){process.chdir(origCwd);d.end()});c.end()});