(function(){var k={};var o=this,n=o.async;if(typeof module!=="undefined"&&module.exports){module.exports=k}else{o.async=k}k.noConflict=function(){o.async=n;return k};var f=function(p,r){if(p.forEach){return p.forEach(r)}for(var q=0;q<p.length;q+=1){r(p[q],q,p)}};var h=function(p,q){if(p.map){return p.map(q)}var r=[];f(p,function(u,t,s){r.push(q(u,t,s))});return r};var i=function(p,q,r){if(p.reduce){return p.reduce(q,r)}f(p,function(u,t,s){r=q(r,u,t,s)});return r};var g=function(r){if(Object.keys){return Object.keys(r)}var q=[];for(var p in r){if(r.hasOwnProperty(p)){q.push(p)}}return q};if(typeof process==="undefined"||!(process.nextTick)){k.nextTick=function(p){setTimeout(p,0)}}else{k.nextTick=process.nextTick}k.forEach=function(p,s,q){q=q||function(){};if(!p.length){return q()}var r=0;f(p,function(t){s(t,function(u){if(u){q(u);q=function(){}}else{r+=1;if(r===p.length){q(null)}}})})};k.forEachSeries=function(p,t,q){q=q||function(){};if(!p.length){return q()}var r=0;var s=function(){t(p[r],function(u){if(u){q(u);q=function(){}}else{r+=1;if(r===p.length){q(null)}else{s()}}})};s()};k.forEachLimit=function(p,t,s,q){q=q||function(){};if(!p.length||t<=0){return q()}var r=0;var w=0;var v=0;(function u(){if(r===p.length){return q()}while(v<t&&w<p.length){w+=1;v+=1;s(p[w-1],function(x){if(x){q(x);q=function(){}}else{r+=1;v-=1;if(r===p.length){q()}else{u()}}})}})()};var l=function(p){return function(){var q=Array.prototype.slice.call(arguments);return p.apply(null,[k.forEach].concat(q))}};var m=function(p){return function(){var q=Array.prototype.slice.call(arguments);return p.apply(null,[k.forEachSeries].concat(q))}};var a=function(r,p,s,q){var t=[];p=h(p,function(v,u){return{index:u,value:v}});r(p,function(v,u){s(v.value,function(w,x){t[v.index]=x;u(w)})},function(u){q(u,t)})};k.map=l(a);k.mapSeries=m(a);k.reduce=function(p,s,r,q){k.forEachSeries(p,function(u,t){r(s,u,function(w,x){s=x;t(w)})},function(t){q(t,s)})};k.inject=k.reduce;k.foldl=k.reduce;k.reduceRight=function(p,s,r,q){var t=h(p,function(u){return u}).reverse();k.reduce(t,s,r,q)};k.foldr=k.reduceRight;var e=function(r,p,s,q){var t=[];p=h(p,function(v,u){return{index:u,value:v}});r(p,function(v,u){s(v.value,function(w){if(w){t.push(v)}u()})},function(u){q(h(t.sort(function(v,w){return v.index-w.index}),function(v){return v.value}))})};k.filter=l(e);k.filterSeries=m(e);k.select=k.filter;k.selectSeries=k.filterSeries;var j=function(r,p,s,q){var t=[];p=h(p,function(v,u){return{index:u,value:v}});r(p,function(v,u){s(v.value,function(w){if(!w){t.push(v)}u()})},function(u){q(h(t.sort(function(v,w){return v.index-w.index}),function(v){return v.value}))})};k.reject=l(j);k.rejectSeries=m(j);var d=function(q,p,r,s){q(p,function(u,t){r(u,function(v){if(v){s(u);s=function(){}}else{t()}})},function(t){s()})};k.detect=l(d);k.detectSeries=m(d);k.some=function(p,q,r){k.forEach(p,function(t,s){q(t,function(u){if(u){r(true);r=function(){}}s()})},function(s){r(false)})};k.any=k.some;k.every=function(p,q,r){k.forEach(p,function(t,s){q(t,function(u){if(!u){r(false);r=function(){}}s()})},function(s){r(true)})};k.all=k.every;k.sortBy=function(p,r,q){k.map(p,function(t,s){r(t,function(v,u){if(v){s(v)}else{s(null,{value:t,criteria:u})}})},function(s,u){if(s){return q(s)}else{var t=function(x,y){var v=x.criteria,w=y.criteria;return v<w?-1:v>w?1:0};q(null,h(u.sort(t),function(v){return v.value}))}})};k.auto=function(w,q){q=q||function(){};var r=g(w);if(!r.length){return q(null)}var u={};var s=[];var p=function(x){s.unshift(x)};var t=function(x){for(var y=0;y<s.length;y+=1){if(s[y]===x){s.splice(y,1);return}}};var v=function(){f(s.slice(0),function(x){x()})};p(function(){if(g(u).length===r.length){q(null,u);q=function(){}}});f(r,function(x){var B=(w[x] instanceof Function)?[w[x]]:w[x];var C=function(E){if(E){q(E);q=function(){}}else{var D=Array.prototype.slice.call(arguments,1);if(D.length<=1){D=D[0]}u[x]=D;v()}};var A=B.slice(0,Math.abs(B.length-1))||[];var z=function(){return i(A,function(D,E){return(D&&u.hasOwnProperty(E))},true)&&!u.hasOwnProperty(x)};if(z()){B[B.length-1](C,u)}else{var y=function(){if(z()){t(y);B[B.length-1](C,u)}};p(y)}})};k.waterfall=function(q,p){p=p||function(){};if(!q.length){return p()}var r=function(s){return function(u){if(u){p(u);p=function(){}}else{var t=Array.prototype.slice.call(arguments,1);var v=s.next();if(v){t.push(r(v))}else{t.push(p)}k.nextTick(function(){s.apply(null,t)})}}};r(k.iterator(q))()};k.parallel=function(r,p){p=p||function(){};if(r.constructor===Array){k.map(r,function(t,s){if(t){t(function(v){var u=Array.prototype.slice.call(arguments,1);if(u.length<=1){u=u[0]}s.call(null,v,u)})}},p)}else{var q={};k.forEach(g(r),function(t,s){r[t](function(v){var u=Array.prototype.slice.call(arguments,1);if(u.length<=1){u=u[0]}q[t]=u;s(v)})},function(s){p(s,q)})}};k.series=function(r,p){p=p||function(){};if(r.constructor===Array){k.mapSeries(r,function(t,s){if(t){t(function(v){var u=Array.prototype.slice.call(arguments,1);if(u.length<=1){u=u[0]}s.call(null,v,u)})}},p)}else{var q={};k.forEachSeries(g(r),function(t,s){r[t](function(v){var u=Array.prototype.slice.call(arguments,1);if(u.length<=1){u=u[0]}q[t]=u;s(v)})},function(s){p(s,q)})}};k.iterator=function(q){var p=function(s){var r=function(){if(q.length){q[s].apply(null,arguments)}return r.next()};r.next=function(){return(s<q.length-1)?p(s+1):null};return r};return p(0)};k.apply=function(q){var p=Array.prototype.slice.call(arguments,1);return function(){return q.apply(null,p.concat(Array.prototype.slice.call(arguments)))}};var b=function(s,p,t,q){var u=[];s(p,function(v,r){t(v,function(w,x){u=u.concat(x||[]);r(w)})},function(r){q(r,u)})};k.concat=l(b);k.concatSeries=m(b);k.whilst=function(r,q,p){if(r()){q(function(s){if(s){return p(s)}k.whilst(r,q,p)})}else{p()}};k.until=function(r,q,p){if(!r()){q(function(s){if(s){return p(s)}k.until(r,q,p)})}else{p()}};k.queue=function(s,p){var t=0;var r={tasks:[],concurrency:p,saturated:null,empty:null,drain:null,push:function(u,q){if(u.constructor!==Array){u=[u]}f(u,function(v){r.tasks.push({data:v,callback:typeof q==="function"?q:null});if(r.saturated&&r.tasks.length==p){r.saturated()}k.nextTick(r.process)})},process:function(){if(t<r.concurrency&&r.tasks.length){var q=r.tasks.shift();if(r.empty&&r.tasks.length==0){r.empty()}t+=1;s(q.data,function(){t-=1;if(q.callback){q.callback.apply(q,arguments)}if(r.drain&&r.tasks.length+t==0){r.drain()}r.process()})}},length:function(){return r.tasks.length},running:function(){return t}};return r};var c=function(p){return function(r){var q=Array.prototype.slice.call(arguments,1);r.apply(null,q.concat([function(t){var s=Array.prototype.slice.call(arguments,1);if(typeof console!=="undefined"){if(t){if(console.error){console.error(t)}}else{if(console[p]){f(s,function(u){console[p](u)})}}}}]))}};k.log=c("log");k.dir=c("dir");k.memoize=function(p,q){var r={};var t={};q=q||function(u){return u};var s=function(){var u=Array.prototype.slice.call(arguments);var v=u.pop();var w=q.apply(null,u);if(w in r){v.apply(null,r[w])}else{if(w in t){t[w].push(v)}else{t[w]=[v];p.apply(null,u.concat([function(){r[w]=arguments;var z=t[w];delete t[w];for(var x=0,y=z.length;x<y;x++){z[x].apply(null,arguments)}}]))}}};s.unmemoized=p;return s};k.unmemoize=function(p){return function(){return(p.unmemoized||p).apply(null,arguments)}}}());