"use strict";var esprima=require("esprima");var NIL=require("../../common").NIL;var Type=require("../../type");function resolveJavascriptFunction(d){try{var f="("+d+")",a=esprima.parse(f,{range:true}),e=[],b;if("Program"!==a.type||1!==a.body.length||"ExpressionStatement"!==a.body[0].type||"FunctionExpression"!==a.body[0].expression.type){return NIL}a.body[0].expression.params.forEach(function(g){e.push(g.name)});b=a.body[0].expression.body.range;return new Function(e,f.slice(b[0]+1,b[1]-1))}catch(c){return NIL}}function representJavascriptFunction(a){return a.toString()}module.exports=new Type("tag:yaml.org,2002:js/function",{loader:{kind:"string",resolver:resolveJavascriptFunction},dumper:{kind:"function",representer:representJavascriptFunction,}});