"use strict";var common=require("./common");function Mark(d,a,e,c,b){this.name=d;this.buffer=a;this.position=e;this.line=c;this.column=b}Mark.prototype.getSnippet=function getSnippet(c,d){var b,f,g,a,e;if(!this.buffer){return null}c=c||4;d=d||75;b="";f=this.position;while(f>0&&-1==="\x00\r\n\x85\u2028\u2029".indexOf(this.buffer.charAt(f-1))){f-=1;if(this.position-f>(d/2-1)){b=" ... ";f+=5;break}}g="";a=this.position;while(a<this.buffer.length&&-1==="\x00\r\n\x85\u2028\u2029".indexOf(this.buffer.charAt(a))){a+=1;if(a-this.position>(d/2-1)){g=" ... ";a-=5;break}}e=this.buffer.slice(f,a);return common.repeat(" ",c)+b+e+g+"\n"+common.repeat(" ",c+this.position-f+b.length)+"^"};Mark.prototype.toString=function toString(a){var b,c="";if(this.name){c+='in "'+this.name+'" '}c+="at line "+(this.line+1)+", column "+(this.column+1);if(!a){b=this.getSnippet();if(b){c+=":\n"+b}}return c};module.exports=Mark;